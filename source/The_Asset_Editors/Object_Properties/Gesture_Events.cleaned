<html>
 <head>
 </head>
 <body>
  <h1>
   The Gesture Events
  </h1>
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Asset_Editors/Editor_Objects_Gesture.png"/><br/>
  Events in the Gesture Event category will be triggered whenever
  <span>
   GameMaker
  </span>
  detects a "gesture" of the mouse or a touch screen event (while these gesture events are designed specifically for mobile use, they can also be used on other targets to detect the mouse, although they will not detect multiple touches in this case). The goal of the gesture system is to try and recognise inputs at a higher level than the direct mouse\touch reading functions, and is designed to simplify the implementation of commonly used inputs on touch-based devices.
  <span>
   NOTE
  </span>
  These events will not be triggered on the HTML5 platform due to lack of support for multi-touch using these events on that platform. If you are looking for gestures on that target then you should be using the
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/Device_Input.htm">
   device functions
  </a>
  .
  
  
   You can choose to detect either
  <strong>
   instance
  </strong>
  gestures or
  <strong>
   global
  </strong>
  gestures, where instance gesture events will only be triggered when the initial touch/click is on an instance within the room. Note that the instance must have a valid collision mask (see
  <a href="../Sprites.htm">
   The Sprite Editor - Collision Mask
  </a>
  and
  <a href="../Objects.htm">
   The Object Editor - Collision Mask
  </a>
  sections for more details) for this event to be triggered. Global events, however, will be triggered by touching/clicking anywhere within the game room, and for all instances that have the event.
  
  
   When a gesture is recognised, it will trigger one or more of the available events, and the event triggered will depend on the type of gesture that has been detected. In every case, however, a
  <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">
   DS Map
  </a>
  will be generated for you and stored in the built-in variable
  <span>
   event_data
  </span>
  . The keys available will depend on which kind of event it has been created by and are shown in each of the sub-sections below.
  <strong>
   NOTE
  </strong>
  : The variable
  <span>
   event_data
  </span>
  is only valid in these events, as the DS map that it points to is automatically created at the start of the event, then destroyed again at the end, with this variable being reset to a value of -1 at all other times.
  
  
   It is worth noting that if you have multiple instances under the position being touched and they all have a gesture event, then
  <em>
   all
  </em>
  of them will trigger, not just the "topmost" instance. Also note that when using multiple camera views and dragging an instance, the values returned will be based on the view you were in when the initial touch/click was received - this is true for all subsequent events in that gesture for that instance. So touching and dragging an instance in one view then releasing the touch in another view, will return values relative to the initial view where the gesture was first detected.
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Icons/Icon_Tap.png"/><br/>
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Icons/Icon_Drag.png"/><br/>
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Icons/Icon_Flick.png"/><br/>
  <a href="#">
   <span>
    Tap, Drag, And Flick Events
   </span>
   <span>
    Tap, Drag, And Flick Events
   </span>
  </a>
  The "Tap", "Drag" and "Flick" events are all based on a single touch or mouse click on the screen and the
  <span>
   event_data
  </span>
  DS Map will contain the following keys:
  <ul>
  </ul>
  <table>
   <tbody>
    <tr>
     <th>
      Key
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      "
      <span>
       gesture
      </span>
      "
     </td>
     <td>
      This is an ID value that is
      <i>
       unique
      </i>
      to the gesture that is in play. This allows you to link the different parts of multi-part gestures (such as drag start, dragging and drag end) together.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       touch
      </span>
      "
     </td>
     <td>
      This is the index of the touch that is being used for the gesture. In general this will start at 0 and increase for each finger that is held down, then reset back to 0 when all fingers are removed, but if the user is touching the screen
            anywhere else when this event is triggered by another touch, then the value will be greater than 0.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       posX
      </span>
      "
     </td>
     <td>
      This is the room-space X position of the touch.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       posY
      </span>
      "
     </td>
     <td>
      This is the room-space Y position of the touch.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawposX
      </span>
      "
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space X position of the touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm">
       <span>
        <span>
         device_mouse_raw_x()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawposY
      </span>
      "
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space Y position of the touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm">
       <span>
        <span>
         device_mouse_raw_y()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guiposX
      </span>
      "
     </td>
     <td>
      This is the gui-space X position of the touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm">
       <span>
        <span>
         device_mouse_x_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guiposY
      </span>
      "
     </td>
     <td>
      This is the gui-space Y position of the touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm">
       <span>
        <span>
         device_mouse_y_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       diffX
      </span>
      "
     </td>
     <td>
      This is the room-space X difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       diffY
      </span>
      "
     </td>
     <td>
      This is the room-space Y difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawdiffX
      </span>
      "
     </td>
     <td>
      This is the raw X difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawdiffY
      </span>
      "
     </td>
     <td>
      This is the raw Y difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guidiffX
      </span>
      "
     </td>
     <td>
      This is the gui-space X difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guidiffY
      </span>
      "
     </td>
     <td>
      This is the gui-space Y difference between the position of the current touch and the position of the last touch in this gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       viewstartposX
      </span>
      "
     </td>
     <td>
      This is the room X start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       viewstartposY
      </span>
      "
     </td>
     <td>
      This is the room Y start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawstartposX
      </span>
      "
     </td>
     <td>
      This is the raw X start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       rawstartposY
      </span>
      "
     </td>
     <td>
      This is the raw Y start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guistartposX
      </span>
      "
     </td>
     <td>
      This is the gui-space X start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       guistartposY
      </span>
      "
     </td>
     <td>
      This is the gui-space Y start position of the current gesture.
     </td>
    </tr>
    <tr>
     <td>
      "
      <span>
       isflick
      </span>
      "
     </td>
     <td>
      <b>
       Only available in the Drag End event
      </b>
      . This is set to 1 if the end of the drag is detected as a flick, meaning that you don't need a separate
      <b>
       Flick Event
      </b>
      if you're handling dragging anyway.
     </td>
    </tr>
   </tbody>
  </table>
  <a href="#">
   <span>
    Tap
   </span>
   <span>
    Tap
   </span>
  </a>
  The Tap event will be triggered when an instance has been touched or clicked or - if it is a global event - when the game registers a touch or click anywhere in the room. A tap is considered a quick touch and release, and if the touch lasts too
        long then it will be considered a Drag (and trigger the Drag gesture events instead of the Tap event). This event will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about the event. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">x_goto = x; y_goto = y;
</code></pre>
  <h4>
   Tap Event
  </h4>
  <pre><code class="language-gml">x_goto = event_data[? "posX"]; y_goto = event_data[? "posY"];
</code></pre>
  <h4>
   Step Event
  </h4>
  <pre><code class="language-gml">var _pd = point_distance(x, y, x_goto, y_goto); move_towards_point(x_goto, y_goto, clamp(_pd, 0, 5);
</code></pre>
  The above code will detect a tap on the screen and then get the position of the tap to move the instance to that position. Note that if you want to have a longer or shorter tap detection time then you can set it with the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_time.htm">
   <span>
    gesture_drag_time()
   </span>
  </a>
  .
        This sets the time between the initial detection and the tap becoming a drag, so set it to a higher value to make tap detection longer or a lower value to make it shorter (value is in seconds and defaults to 0.16).
  <a href="#">
   <span>
    Double Tap
   </span>
   <span>
    Double Tap
   </span>
  </a>
  The Double Tap event will be triggered when an instance has been touched or clicked twice in quick succession (or - if it is a global event - when the game registers two quick touches or clicks anywhere in the room). A double tap is considered two
        quick touches and releases, but if any of the touches lasts too long then it will be considered a Drag (and trigger the Drag gesture events instead of the Double Tap event). This event will generate an
  <span>
   event_data
  </span>
  DS
        map which you can then use to get information about the event. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">x_goto = x; y_goto = y;
</code></pre>
  <h4>
   Double Tap Event
  </h4>
  <pre><code class="language-gml">instance_destroy();
</code></pre>
  The above code simply detects a double tap and then destroys the instance. Note that you can set the time between taps to trigger a double tap using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_double_tap_time.htm">
   <span>
    gesture_double_tap_time()
   </span>
  </a>
  (which
        has a default value - in seconds - of 0.16) and you can also set the distance for detection between taps with the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_double_tap_distance.htm">
   <span>
    gesture_double_tap_distance()
   </span>
  </a>
  (if
        a second tap is detected outside of this distance it will be considered a regular tap event).
  <a href="#">
   <span>
    Drag Start
   </span>
   <span>
    Drag Start
   </span>
  </a>
  The Drag Start event will be triggered when the user maintains a touch or click without releasing it. It will be triggered once when a set time has passed after the initial touch, which is 0.16 seconds by default (although you can set this to any
        other value in seconds using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_time.htm">
   <span>
    gesture_drag_time()
   </span>
  </a>
  ). After this event has been triggered, and as long as
        the user has a touch/click held down, then the Dragging event will be triggered every step until the touch/click has been released. This event will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information
        about the event. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">drag_offsetX = 0; drag_offsetY = 0;
</code></pre>
  <h4>
   Drag Start Event
  </h4>
  <pre><code class="language-gml">drag_offsetX = x - event_data[?"posX"]; drag_offsetY = y - event_data[?"posY"];
</code></pre>
  The above code uses the Drag Start event to get the position of the touch/click and use it to set an offset value for the x and y axis. This can then be used when dragging the instance to ensure that it doesn't "jump" to the position
        that the touch/click was detected at (see the Dragging event below for a continuation of this example).
  <a href="#">
   <span>
    Dragging
   </span>
   <span>
    Dragging
   </span>
  </a>
  The Dragging event is triggered after the Drag Start event, and will be triggered for every step that the user maintains the touch/click on the instance (or the screen, if it's a global event) and moves more than the defined dragging threshold.
        This distance is 0.1 inches by default but can be set using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_distance.htm">
   <span>
    gesture_drag_distance()
   </span>
  </a>
  . If there is no
        movement or the movement is under the defined threshold, the event will not be triggered. This event will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about the event. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">drag_offsetX = 0; drag_offsetY = 0;
</code></pre>
  <h4>
   Drag Start Event
  </h4>
  <pre><code class="language-gml">drag_offsetX = x - event_data[?"posX"]; drag_offsetY = y - event_data[?"posY"];
</code></pre>
  <h4>
   Dragging Event
  </h4>
  <pre><code class="language-gml">x = event_data[?"posX"] + drag_offsetX; y = event_data[?"posY"] + drag_offsetY;
</code></pre>
  The example code above uses the offset variables set in the Drag Start event to move the instance when the Dragging event is triggered.
  <a href="#">
   <span>
    Drag End
   </span>
   <span>
    Drag End
   </span>
  </a>
  The Drag End event is triggered when the user releases the touch/click on the instance (or the screen if the event is global). This event will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about
        the event, but in this event the map will have an extra key: "
  <span>
   isflick
  </span>
  ". Flick is calculated as the distance per second that the drag has occurred over, and the value for the "
  <span>
   isflick
  </span>
  "
        key will be true if it is greater than the defined distance per second value, or false otherwise. Note that the default is 2 inches per second, but you can set it to another value using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_flick_speed.htm">
   <span>
    gesture_flick_speed()
   </span>
  </a>
  .
        Also note that there is a dedicated Flick event which will also be triggered if the "isflick" variable is true. An example of use would be:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">flickVelX = 0.0; flickVelY = 0.0;
</code></pre>
  <h4>
   Drag End Event
  </h4>
  <pre><code class="language-gml">isFlick = event_data[?"isflick"]; if (isFlick)     {     flickVelX = event_data[?"diffX"];     flickVelY = event_data[?"diffY"];     } else
     {     flickVelX = 0;     flickVelY = 0;     }
</code></pre>
  <h4>
   Step Event
  </h4>
  <pre><code class="language-gml">x += flickVelX; y += flickVelY; flickVelX *= 0.7; flickVelY *= 0.7;
</code></pre>
  The above code simply gets the difference in x and y position of the last Dragging event and the current Drag End event, and if the movement has been greater than the flick threshold, it sets some variables that are use to the move the instance
        in the step event.
  <a href="#">
   <span>
    Flick
   </span>
   <span>
    Flick
   </span>
  </a>
  The Flick event is only triggered when a touch/click has been held, dragged and then released and the distance between the last drag position and the release position is greater than 2 inches per second (this is the default setting, although this
        can be changed using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_flick_speed.htm">
   <span>
    gesture_flick_speed()
   </span>
  </a>
  ). This event will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about the event. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">flickVelX = 0.0; flickVelY = 0.0;
</code></pre>
  <h4>
   Flick Event
  </h4>
  <pre><code class="language-gml">flickVelX = event_data[?"diffX"]; flickVelY = event_data[?"diffY"];
</code></pre>
  <h4>
   Step Event
  </h4>
  <pre><code class="language-gml">x += flickVelX; y += flickVelY; flickVelX *= 0.7; flickVelY *= 0.7;
</code></pre>
  The above code simply gets the difference in x and y position of the last Dragging event and the current Flick event, and if the movement has been greater than the flick threshold, it sets some variables that are use to the move the instance in
        the step event.
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Icons/Icon_Pinch.png"/><br/>
  <a href="#">
   <span>
    Pinch Events
   </span>
   <span>
    Pinch Events
   </span>
  </a>
  The "Pinch" events are based on two touches to the devices screen being recognised at once, where one (or both) have moved more than a certain distance. The angle of movement of the touches along with the movement of each touch is what will
      determine the detection of a Pinch or Rotate event, where (in the case of the Pinch Event type):
  <ul>
   <li>
    If one of the touches isn't moving, the other must be moving towards it or away from it within a threshold angle (which can be set using the functions
    <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_towards.htm">
     <span>
      gesture_pinch_angle_towards()
     </span>
    </a>
    and
        -
    <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_away.htm">
     <span>
      gesture_pinch_angle_away()
     </span>
    </a>
    ).
   </li>
   <li>
    If both touches are moving, their velocities must be in approximately opposite directions and the same angular threshold check is also done to ensure the touches are moving in approximate alignment.
   </li>
  </ul>
  When two touches and a movement are detected with the above criteria, a Pinch Event will be triggered, and in each of the events the
  <span>
   event_data
  </span>
  DS Map will be populated with the following keys:
  <ul>
  </ul>
  <table>
   <tbody>
    <tr>
     <th>
      Key
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      "gesture"
     </td>
     <td>
      This is an ID value that is
      <i>
       unique
      </i>
      to the gesture that is in play. This allows you to link the different parts of multi-part gestures (such as drag start, dragging and drag end) together.
     </td>
    </tr>
    <tr>
     <td>
      "touch1"
     </td>
     <td>
      This is the index of the first touch that is being used as part of the pinch gesture. In general this will be 0, but if the user is touching the screen anywhere else when this event is triggered by another touch, then the value will be
            greater than 0.
     </td>
    </tr>
    <tr>
     <td>
      "touch2"
     </td>
     <td>
      This is the index of the second touch that is being used as part of the pinch gesture. In general this will be 1 more than the value for touch1, but may be some other value depending on the number of touches being detected elsewhere.
     </td>
    </tr>
    <tr>
     <td>
      "posX1"
     </td>
     <td>
      This is the room-space X position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "posY1"
     </td>
     <td>
      This is the room-space Y position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposX1"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space X position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm">
       <span>
        <span>
         device_mouse_raw_x()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "rawposY1"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space Y position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm">
       <span>
        <span>
         device_mouse_raw_y()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "guiposX1"
     </td>
     <td>
      This is the gui-space X position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm">
       <span>
        <span>
         device_mouse_x_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "guiposY1"
     </td>
     <td>
      This is the gui-space Y position of the second touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm">
       <span>
        <span>
         device_mouse_y_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "posX2"
     </td>
     <td>
      This is the room-space X position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "posY2"
     </td>
     <td>
      This is the room-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposX2"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space X position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposY2"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "guiposX2"
     </td>
     <td>
      This is the gui-space X position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "guiposY2"
     </td>
     <td>
      This is the gui-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "midpointX"
     </td>
     <td>
      The X position of the mid point between the two touches in room space.
     </td>
    </tr>
    <tr>
     <td>
      "midpointY"
     </td>
     <td>
      The Y position of the mid point between the two touches in room space.
     </td>
    </tr>
    <tr>
     <td>
      "rawmidpointX"
     </td>
     <td>
      This is the raw window-space X position of the mid point.
     </td>
    </tr>
    <tr>
     <td>
      "rawmidpointY"
     </td>
     <td>
      This is the raw window-space Y position of the mid point.
     </td>
    </tr>
    <tr>
     <td>
      "guimidpointX"
     </td>
     <td>
      This the gui-space X position of the mid point.
     </td>
    </tr>
    <tr>
     <td>
      "guimidpointY"
     </td>
     <td>
      This the gui-space Y position of the mid point.
     </td>
    </tr>
    <tr>
     <td>
      "relativescale"
     </td>
     <td>
      This is difference in scale compared to the last event in this gesture (so for
      <b>
       Pinch In
      </b>
      events this will always be smaller than 1.0, whereas for
      <b>
       Pinch Out
      </b>
      events it will always be larger than 1.0)
     </td>
    </tr>
    <tr>
     <td>
      "absolutescale"
     </td>
     <td>
      This is the scale compared to where the fingers were when the gesture started (so if the distance between the fingers has halved then this will be 0.5 whereas if the distance has doubled it will be 2.0).
     </td>
    </tr>
   </tbody>
  </table>
  <a href="#">
   <span>
    Pinch Start
   </span>
   <span>
    Pinch Start
   </span>
  </a>
  The Pinch Start event will be triggered when an instance (or the screen if the event is global) has been touched by two "fingers" (and the touch is maintained) and then one or both of the "fingers" is moved. If the touches move
        away from each other or towards each other more than the minimum check distance (which is 0.1 inches by default, but it can be set using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_distance.htm">
   <span>
    gesture_pinch_distance()
   </span>
  </a>
  ),
        and the angle between them is within the defined value (this defaults to 45° but can be set using
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_towards.htm">
   <span>
    gesture_pinch_angle_towards()
   </span>
  </a>
  and
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_away.htm">
   <span>
    gesture_pinch_angle_away()
   </span>
  </a>
  ), then a Pinch Start event will be triggered. In this event you can set variables or store position date for future use. For example:
  <h4>
   Pinch Start Event
  </h4>
  <pre><code class="language-gml">pinching = true; pinch_x = event_data[? "midpointX"]; pinch_y = event_data[? "midpointY"];
</code></pre>
  The above code will detect a pinch and store the midpoint position for that pinch.
  <a href="#">
   <span>
    Pinch In / Pinch Out
   </span>
   <span>
    Pinch In / Pinch Out
   </span>
  </a>
  The Pinch In and Pinch Out events will be triggered every step that the distance between the two touches that make up the pinch changes over the minimum threshold (set to +/- 0.1 inches by default, but you can change it using the function gesture_pinch_distance).
        If there is no movement of the pinch touches then these events will not trigger. These events will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about the event. For example:
  <h4>
   Global Pinch In /Pinch Out Event
  </h4>
  <pre><code class="language-gml">var _scale = event_data[? "relativescale"]; var _w = camera_get_view_width(view_camera[0]); var _h = camera_get_view_height(view_camera[0]); var _x = camera_get_view_x(view_camera[0]) + (_w / 2); var _y = camera_get_view_y(view_camera[0])
+ (_h / 2);
 _w *= _scale; _h = _w * (room_height / room_width); _x -= _w / 2; _y -= _h / 2;
 camera_set_view_pos(view_camera[0], _x, _y); camera_set_view_size(view_camera[0], _w, _h);
</code></pre>
  The above code will scale the view based on the relative scale of the pinch touches.
  <a href="#">
   <span>
    Pinch End
   </span>
   <span>
    Pinch End
   </span>
  </a>
  <strong>
  </strong>
  The Pinch End event will be triggered when the user releases one (or both) of the touches from the device. This events will generate an
  <span>
   event_data
  </span>
  DS map which you can then use to get information about the event. For
        example:
  <h4>
   Pinch End Event
  </h4>
  <pre><code class="language-gml">var _pinchx = event_data[? "midpointX"]; var _pinchy = event_data[? "midpointY"]; var _w = camera_get_view_width(view_camera[0]); var _h = camera_get_view_height(view_camera[0]); var _x = _pinchx - (_w / 2); var _y = _pinchy - (_h / 2);
 camera_set_view_pos(view_camera[0], _x, _y);
</code></pre>
  The above code will set the view position to be centered on the midpoint of the two touches that made up the pinch when the touches are released.
  <strong>
  </strong>
  <br/><img src="https://gms.magecorn.com/Manual/assets/Images/Icons/Icon_Rotate.png"/><br/>
  <a href="#">
   <span>
    Rotate Events
   </span>
   <span>
    Rotate Events
   </span>
  </a>
  The "Rotate" events are based on two touches to the devices screen being recognised at once, and where there has been a consistent angular rotation between the two within a specific time. The angle of movement of the touches along with the
      movement of each touch is what will determine the detection of a Pinch or Rotate event, where (in the case of the Rotate Event type):
  <ul>
   <li>
    Two touches must be held down for a specified minimum time (the default time is 0.16 seconds, but you can change it using the function
    <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_time.htm">
     <span>
      gesture_rotate_time()
     </span>
    </a>
    ).
   </li>
   <li>
    Within this minimum time period they must rotate in a consistent direction (if the rotation direction changes within that time then no rotate is started).
   </li>
   <li>
    The rotation amount must exceed the minimum threshold angle (which is set to 5° by default, but this can be changed using the function
    <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm">
     <span>
      gesture_rotate_angle()
     </span>
    </a>
    ).
   </li>
  </ul>
  When two touches and a movement are detected with the above criteria, a Rotate Event will be triggered, and in each of the events the
  <span>
   event_data
  </span>
  DS Map will be populated with the following keys:
  <ul>
  </ul>
  <table>
   <tbody>
    <tr>
     <th>
      Key
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      "gesture"
     </td>
     <td>
      This is an ID value that is
      <i>
       unique
      </i>
      to the gesture that is in play. This allows you to link the different parts of multi-part gestures (such as drag start, dragging and drag end) together.
     </td>
    </tr>
    <tr>
     <td>
      "touch1"
     </td>
     <td>
      This is the index of the first touch that is being used as part of the pinch gesture. In general this will be 0, but if the user is touching the screen anywhere else when this event is triggered by another touch, then the value will be
            greater than 0.
     </td>
    </tr>
    <tr>
     <td>
      "touch2"
     </td>
     <td>
      This is the index of the second touch that is being used as part of the pinch gesture. In general this will be 1 more than the value for touch1, but may be some other value depending on the number of touches being detected elsewhere.
     </td>
    </tr>
    <tr>
     <td>
      "posX1"
     </td>
     <td>
      This is the room-space X position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "posY1"
     </td>
     <td>
      This is the room-space Y position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposX1"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space X position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm">
       <span>
        <span>
         device_mouse_raw_x()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "rawposY1"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space Y position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm">
       <span>
        <span>
         device_mouse_raw_y()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "guiposX1"
     </td>
     <td>
      This is the gui-space X position of the first touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm">
       <span>
        <span>
         device_mouse_x_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "guiposY1"
     </td>
     <td>
      This is the gui-space Y position of the second touch (equivalent to getting the mouse position using
      <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm">
       <span>
        <span>
         device_mouse_y_to_gui()
        </span>
       </span>
      </a>
      ).
     </td>
    </tr>
    <tr>
     <td>
      "posX2"
     </td>
     <td>
      This is the room-space X position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "posY2"
     </td>
     <td>
      This is the room-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposX2"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space X position of the first touch.
     </td>
    </tr>
    <tr>
     <td>
      "rawposY2"
     </td>
     <td>
      This is the
      <i>
       raw
      </i>
      window-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "guiposX2"
     </td>
     <td>
      This is the gui-space X position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "guiposY2"
     </td>
     <td>
      This is the gui-space Y position of the second touch.
     </td>
    </tr>
    <tr>
     <td>
      "pivotX"
     </td>
     <td>
      The X position of the rotation pivot point in room space.
     </td>
    </tr>
    <tr>
     <td>
      "pivotY"
     </td>
     <td>
      The Y position of the rotation pivot point in room space.
     </td>
    </tr>
    <tr>
     <td>
      "rawpivotX"
     </td>
     <td>
      This is the raw window-space X position of the rotational pivot point.
     </td>
    </tr>
    <tr>
     <td>
      "rawpivotY"
     </td>
     <td>
      This is the raw window-space Y position of the rotational pivot point.
     </td>
    </tr>
    <tr>
     <td>
      "guipivotX"
     </td>
     <td>
      This the gui-space X position of the rotational pivot point.
     </td>
    </tr>
    <tr>
     <td>
      "guipivotY"
     </td>
     <td>
      This the gui-space Y position of the rotational pivot point.
     </td>
    </tr>
    <tr>
     <td>
      "relativeangle"
     </td>
     <td>
      This is difference in rotation compared to the last event in this gesture, measured in degrees
     </td>
    </tr>
    <tr>
     <td>
      "absoluteangle"
     </td>
     <td>
      This is the difference in angle compared to where the fingers were when the gesture started, measured in degrees. So, for example, if the fingers have rotated a quarter-circle since the start of the gesture then this value will be 90°
            or -90°, depending on the direction of rotation.
     </td>
    </tr>
   </tbody>
  </table>
  <a href="#">
   <span>
    Rotate Start
   </span>
   <span>
    Rotate Start
   </span>
  </a>
  The Rotate Start event will be triggered when an instance (or the screen if the event is global) has been touched by two "fingers" (and the touch is maintained) and then one or both of the "fingers" is rotated from its start
        position. The rotation of the touches needs to have started within a short period of time (0.16 seconds by default, but it can be set using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_time.htm">
   <span>
    gesture_rotate_time()
   </span>
  </a>
  )
        and be greater than the minimum angular threshold (by default 5°, but, this can be changed using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm">
   <span>
    gesture_rotate_angle()
   </span>
  </a>
  ).
        If these checks are true, then a Rotate Start event will be triggered and you can use it to store values or set variables for use with the rest of the rotate events. For example:
  <h4>
   Create Event
  </h4>
  <pre><code class="language-gml">rotating = false; view_a = camera_get_view_angle(view_camera[0]);
</code></pre>
  <h4>
   Rotate Start Event
  </h4>
  <pre><code class="language-gml">rotating = true;
</code></pre>
  The above code simply sets up some variables for rotating the view camera, and then in the Rotate Start event, it sets one of them to true.
  <a href="#">
   <span>
    Rotating
   </span>
   <span>
    Rotating
   </span>
  </a>
  The Rotating event will be triggered every step that the touches on the screen rotate around each other, as long as the movement is greater than the minimum angular threshold (by default 5°, but, this can be changed using the function
  <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm">
   <span>
    gesture_rotate_angle()
   </span>
  </a>
  ).
        This event can be used to set variables and manipulate instances, for example:
  <h4>
   Rotating Event
  </h4>
  <pre><code class="language-gml">var _relangle = event_data[?"relativeangle"]; var _a = camera_get_view_angle(view_camera[0]); _a += _relangle; camera_set_view_angle(view_camera[0], _a);
</code></pre>
  The above code rotates the camera view depending on the rotational movement of the touches in the event.
  <strong>
  </strong>
  <a href="#">
   <span>
    Rotate End
   </span>
   <span>
    Rotate End
   </span>
  </a>
  <strong>
  </strong>
  The Rotate End event will be triggered when one (or both) touches that comprise the gesture are released from the device screen. This event can be used to set variables and manipulate instances, for example:
  <h4>
   Rotate End Event
  </h4>
  <pre><code class="language-gml">rotating = false;
</code></pre>
  <h4>
   Step Event
  </h4>
  <pre><code class="language-gml">if !rotating     {     var _a = camera_get_view_angle(view_camera[0]);     var _adif = angle_difference(view_a, _a);     _a += median(-5, _adif, 5);     camera_set_view_angle(view_camera[0], _a);     }
</code></pre>
  The above code uses the Rotate End event to detect when the user stops the gesture and then sets a variable. This variable is then used in the step event to rotate the view camera back to its original position.
 </body>
</html>